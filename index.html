<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>glyphical</title>
  <link rel="icon" type="image/png" href="#">
  <link rel="stylesheet" href="css/glyphical.css">
  <link rel="shortcut icon" href="images/Y3.svg" type="image/x-icon">
</head>
<body>
<header>

  <h1><span class=hieroglyph>ìèû</span>&nbsp;glyphical</h1>

  <form id="main-search">
    <input type="search" autocapitalize=off placeholder="ìÉ¶ Search"  spellcheck="false">
  </form>
  
</header>

<main>

  <template id="hieroglyph-view-template">
    <div lang=egy class="hieroglyph"></div>
    <div>
      <span class="type"></span>
      <span class="phonetic"></span>
    </div>
    <div class="description"></div>
    <div class="gardiner"></div>
    <div class="category"></div>
    <div class="frequency"></div>
    <div class="transliterations"></div>
    <div class="unicode"></div>
  </template>
<search-hieroglyphs id="sh"></search-hieroglyphs>

</main>

<footer>

</footer>

<script type="module">
import "./components/glyphical.js";
// import { parseQueryString } from './modules/parse-query-string.js'
// import {parseQueryString} from 'https://www.pathall.net/parse-query-string/v1.0.0/parse-query-string.js'
import {parseQueryString} from 'https://pathall.net/parse-query-string/v1.0.0/parse-query-string.js'

addEventListener('hashchange', e => {
  if(e.newURL.split('#search/')[1]) {
    let [url,queryString] = e.newURL.split('#search:/')
    if(queryString){
      document.querySelector('search-hieroglyphs').search(query)
    }
  }
})

addEventListener('submit', e => {
  e.preventDefault()
  if(e.target.matches('#main-search')) {
    let query = e.target.querySelector('input[type=search]').value

    document.querySelector('search-hieroglyphs').search(query)
  }
})
</script>
</body>
</html>