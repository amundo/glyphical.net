<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>glyphical</title>
  <link rel="icon" type="image/png" href="#">
  <link rel="stylesheet" href="css/glyphical.css">
  <link rel="shortcut icon" href="images/favicon.svg" type="image/x-icon">
</head>
<body>

  <nav-bar id="glyphical-nav"></nav-bar>
<header id="glyphical-header">
  
  <h1><span class=hieroglyph>ìèû</span>&nbsp;glyphical</h1>

  <form id="main-search">
    <input type="search" autocapitalize=off placeholder="ìÉ¶ Search"  spellcheck="false">
  </form>

</header>

<main id="glyphical-main">

  <template id="hieroglyph-view-template">
    <div class="description"></div>
    <div lang=egy class="hieroglyph"></div>
    <!-- <div> -->
      <span class="type"></span>
      <span class="phonetic"></span>
    <!-- </div> -->
    <div class="gardiner"></div>
    <div class="category"></div>
    <div class="frequency"></div>
    <div class="transliterations"></div>
    <div class="unicode"></div>
  </template>
<search-hieroglyphs id="sh"></search-hieroglyphs>

</main>

<footer>

</footer>

<script type="module">
import "./components/glyphical.js";
import {parseQueryString} from 'https://www.pathall.net/parse-query-string/v1.0.0/parse-query-string.js'

let handleHashChange = () =>  {
  let query = window.location.hash.slice(1)
  let decodedQuery = decodeURIComponent(query);  // Decode the URI component
  document.querySelector('[type=search]').value = decodedQuery
  document.querySelector('search-hieroglyphs').search(decodedQuery)
}

addEventListener('hashchange', handleHashChange)

handleHashChange()

addEventListener('submit', e => {
  e.preventDefault()
  if(e.target.matches('#main-search')) {
    let query = e.target.querySelector('input[type=search]').value
    document.querySelector('search-hieroglyphs').search(query)
  }
})


</script>
</body>
</html>